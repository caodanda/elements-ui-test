{"remainingRequest":"/Users/yangjinkai/elements-ui-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjinkai/elements-ui-test/src/components/user.vue?vue&type=style&index=0&id=7b4b534a&scoped=true&lang=scss&","dependencies":[{"path":"/Users/yangjinkai/elements-ui-test/src/components/user.vue","mtime":1608207748954},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWJyZWFkY3J1bWIsLmVsLXJvd3sKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Ci5lbC1pbnB1dHsKICB3aWR0aDogNDYwcHg7Cn0KCg=="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"user\">\n    <!-- 面包屑 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{path: '/home' }\" >主页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片内容 -->\n    <el-card>\n      <!-- 搜索栏 -->\n      <el-row :gutter=\"40\">\n        <el-col :span=\"12\">\n          <el-input placeholder=\"请输入搜索内容\" v-model=\"userData.userName\">\n            <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button type=\"primary\" @click=\"addUserStatus = true\">添加用户</el-button>\n        </el-col>\n      </el-row>\n      <!-- 表格内容 -->\n      <el-table :data=\"userData\" border stripe >\n        <el-table-column type=\"index\" label=\"序号\" width=\"60\">\n        </el-table-column>\n        <el-table-column prop=\"userName\" label=\"姓名\" width=\"140\">\n        </el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\">\n        </el-table-column>\n        <el-table-column prop=\"mobile\" label=\"电话\" width=\"140\">\n        </el-table-column>\n        <el-table-column prop=\"role\" label=\"角色\" width=\"120\">\n        </el-table-column>\n        <el-table-column  label=\"状态\" width=\"100\">\n          <!-- 作用域插槽，可以获取当前行的内容 == scope.row  -->\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.userStatus\" @change=\"userStatusChange(scope.row)\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column  label=\"操作\">\n          <!--作用域插槽 -->\n          <template slot-scope=\"scope\">\n            <el-tooltip effect=\"dark\" content=\"修改\" placement=\"top\" :enterable = false>\n              <el-button type=\"primary\" icon=\"el-icon-edit\"></el-button>\n            </el-tooltip>\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable = false>\n              <el-button type=\"warning\" icon=\"el-icon-share\"></el-button>\n            </el-tooltip>\n            <el-tooltip effect=\"dark\" content=\"删除\" placement=\"top\" :enterable = false >\n              <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"delUser(scope.row)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n     \n      </el-table>\n      <!-- 底部分页 -->\n      <el-pagination\n        layout=\"total,prev, pager, next\"\n        :total=\"userData.length\">\n      </el-pagination>\n      <!-- 添加用户表单 -->\n      <el-dialog title=\"添加用户\" :visible.sync=\"addUserStatus\" @close='closeDialog'>\n        <el-form :model=\"addUser\" label-position='right' label-width=\"80px\" :rules=\"addUserRules\" ref=\"addUser\">\n          <el-form-item label=\"用户名\" prop=\"userName\">\n            <el-input v-model=\"addUser.userName\" ></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\" >\n            <el-input v-model=\"addUser.email\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机\" prop=\"mobile\" >\n            <el-input v-model.number=\"addUser.mobile\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\">\n          <el-button @click=\"addUserStatus = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n\n  </div>\n</template>\n<script>\nexport default {\n  name:'user',\n  data(){\n    return {\n      userData:[\n        {userName:'admin',email:'766747781@qq.com',mobile:'13041041630',role:'超级管理员',userStatus:true},\n        {userName:'lily',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:false},\n        {userName:'张三三',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'李思思',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'王呜呜',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'白溜溜',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:false},\n        {userName:'胖乎乎',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'杨爸爸',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:true},\n        {userName:'东瞧瞧',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'哦样也',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:false}\n      ],\n      addUser:{\n        userName:'',\n        email:'',\n        mobile:''\n      },\n      addUserStatus:false,\n      addUserRules:{\n        userName:[\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 2, max: 5, message: '长度在 2 到 5 个字符', trigger: 'blur' }\n        ],\n        email:[\n          { required: true, message: '请输入用户邮箱', trigger: 'blur' },\n          { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\n        ],\n        mobile:[\n          { required: true, message: '手机号码不能为空'},\n          { type: 'number', message: '手机号码必须为数字值'}\n        ]\n      }\n    }\n  },\n  mounted(){\n    // 进入页面之后初始化用户列表信息，并保存到localStorage中\n   this.getStorage()\n  },\n  methods:{\n    getStorage(){\n      let storage = window.localStorage;\n      if(storage.getItem('userData') == null){\n        storage.setItem('userData',JSON.stringify(this.userData));\n      }else{\n        this.userData = JSON.parse(storage.getItem('userData'))\n      }\n    },\n    // 用户状态修改\n    userStatusChange(e){\n      for(let item of this.userData){\n        if(item.userName == e.userName){\n          item.userStatus = e.userStatus\n        }\n      }\n      window.localStorage.setItem('userData',JSON.stringify(this.userData))\n      this.$message.success('状态修改成功');\n    },\n    // 删除用户操作\n    delUser(e){\n      console.log(e);\n      if(e == undefined){return}\n      for(let item of this.userData){\n        if(item.userName == e.userName){\n          let index = this.userData.indexOf(item)\n          this.userData.splice(index,1)\n        }\n      }\n      window.localStorage.setItem('userData',JSON.stringify(this.userData))\n      this.$message.success('删除成功');\n    },\n    // 添加用户 == 关闭对话框数据重置操作\n    closeDialog(){\n      this.$refs.addUser.resetFields()\n    },\n    submit(){\n      this.$refs.addUser.validate((vaild)=>{\n        if(vaild === true){\n          this.addUser.role = '普通会员'\n          this.addUser.userStatus = true\n          this.userData.push(this.addUser);\n          window.localStorage.setItem('userData',JSON.stringify(this.userData))\n        }\n      })\n      this.addUserStatus = false\n    }\n  }\n}\n</script>\n<style scoped lang='scss'>\n .el-breadcrumb,.el-row{\n   margin-bottom: 20px;\n }\n .el-input{\n   width: 460px;\n }\n \n</style>"]}]}