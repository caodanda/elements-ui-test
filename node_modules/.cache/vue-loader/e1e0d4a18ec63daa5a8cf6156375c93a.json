{"remainingRequest":"/Users/yangjinkai/elements-ui-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjinkai/elements-ui-test/src/components/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjinkai/elements-ui-test/src/components/user.vue","mtime":1608207973463},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjinkai/elements-ui-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOid1c2VyJywKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICB1c2VyRGF0YTpbCiAgICAgICAge3VzZXJOYW1lOidhZG1pbicsZW1haWw6Jzc2Njc0Nzc4MUBxcS5jb20nLG1vYmlsZTonMTMwNDEwNDE2MzAnLHJvbGU6J+i2hee6p+euoeeQhuWRmCcsdXNlclN0YXR1czp0cnVlfSwKICAgICAgICB7dXNlck5hbWU6J2xpbHknLGVtYWlsOic3NjY3NDc3ODFAcXEuY29tJyxtb2JpbGU6JzEzMDQxMDQxNjMwJyxyb2xlOifnrqHnkIblkZgnLHVzZXJTdGF0dXM6ZmFsc2V9LAogICAgICAgIHt1c2VyTmFtZTon5byg5LiJ5LiJJyxlbWFpbDonNzY2NzQ3NzgxQHFxLmNvbScsbW9iaWxlOicxMzA0MTA0MTYzMCcscm9sZTon5pmu6YCa5Lya5ZGYJyx1c2VyU3RhdHVzOnRydWV9LAogICAgICAgIHt1c2VyTmFtZTon5p2O5oCd5oCdJyxlbWFpbDonNzY2NzQ3NzgxQHFxLmNvbScsbW9iaWxlOicxMzA0MTA0MTYzMCcscm9sZTon5pmu6YCa5Lya5ZGYJyx1c2VyU3RhdHVzOnRydWV9LAogICAgICAgIHt1c2VyTmFtZTon546L5ZGc5ZGcJyxlbWFpbDonNzY2NzQ3NzgxQHFxLmNvbScsbW9iaWxlOicxMzA0MTA0MTYzMCcscm9sZTon5pmu6YCa5Lya5ZGYJyx1c2VyU3RhdHVzOnRydWV9LAogICAgICAgIHt1c2VyTmFtZTon55m95rqc5rqcJyxlbWFpbDonNzY2NzQ3NzgxQHFxLmNvbScsbW9iaWxlOicxMzA0MTA0MTYzMCcscm9sZTon566h55CG5ZGYJyx1c2VyU3RhdHVzOmZhbHNlfSwKICAgICAgICB7dXNlck5hbWU6J+iDluS5juS5jicsZW1haWw6Jzc2Njc0Nzc4MUBxcS5jb20nLG1vYmlsZTonMTMwNDEwNDE2MzAnLHJvbGU6J+aZrumAmuS8muWRmCcsdXNlclN0YXR1czp0cnVlfSwKICAgICAgICB7dXNlck5hbWU6J+adqOeIuOeIuCcsZW1haWw6Jzc2Njc0Nzc4MUBxcS5jb20nLG1vYmlsZTonMTMwNDEwNDE2MzAnLHJvbGU6J+euoeeQhuWRmCcsdXNlclN0YXR1czp0cnVlfSwKICAgICAgICB7dXNlck5hbWU6J+S4nOeep+eepycsZW1haWw6Jzc2Njc0Nzc4MUBxcS5jb20nLG1vYmlsZTonMTMwNDEwNDE2MzAnLHJvbGU6J+aZrumAmuS8muWRmCcsdXNlclN0YXR1czp0cnVlfSwKICAgICAgICB7dXNlck5hbWU6J+WTpuagt+S5nycsZW1haWw6Jzc2Njc0Nzc4MUBxcS5jb20nLG1vYmlsZTonMTMwNDEwNDE2MzAnLHJvbGU6J+aZrumAmuS8muWRmCcsdXNlclN0YXR1czpmYWxzZX0KICAgICAgXSwKICAgICAgYWRkVXNlcjp7CiAgICAgICAgdXNlck5hbWU6JycsCiAgICAgICAgZW1haWw6JycsCiAgICAgICAgbW9iaWxlOicnCiAgICAgIH0sCiAgICAgIGFkZFVzZXJTdGF0dXM6ZmFsc2UsCiAgICAgIGFkZFVzZXJSdWxlczp7CiAgICAgICAgdXNlck5hbWU6WwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyBtaW46IDIsIG1heDogNSwgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCA1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBlbWFpbDpbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi36YKu566xJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICB7IG1pbjogNiwgbWF4OiAxNSwgbWVzc2FnZTogJ+mVv+W6puWcqCA2IOWIsCAxNSDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgbW9iaWxlOlsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfmiYvmnLrlj7fnoIHkuI3og73kuLrnqbonfSwKICAgICAgICAgIHsgdHlwZTogJ251bWJlcicsIG1lc3NhZ2U6ICfmiYvmnLrlj7fnoIHlv4XpobvkuLrmlbDlrZflgLwnfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgLy8g6L+b5YWl6aG16Z2i5LmL5ZCO5Yid5aeL5YyW55So5oi35YiX6KGo5L+h5oGv77yM5bm25L+d5a2Y5YiwbG9jYWxTdG9yYWdl5LitCiAgIHRoaXMuZ2V0U3RvcmFnZSgpCiAgfSwKICBtZXRob2RzOnsKICAgIGdldFN0b3JhZ2UoKXsKICAgICAgbGV0IHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlOwogICAgICBpZihzdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykgPT0gbnVsbCl7CiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkpOwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLnVzZXJEYXRhID0gSlNPTi5wYXJzZShzdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpCiAgICAgIH0KICAgIH0sCiAgICAvLyDnlKjmiLfnirbmgIHkv67mlLkKICAgIHVzZXJTdGF0dXNDaGFuZ2UoZSl7CiAgICAgIGZvcihsZXQgaXRlbSBvZiB0aGlzLnVzZXJEYXRhKXsKICAgICAgICBpZihpdGVtLnVzZXJOYW1lID09IGUudXNlck5hbWUpewogICAgICAgICAgaXRlbS51c2VyU3RhdHVzID0gZS51c2VyU3RhdHVzCiAgICAgICAgfQogICAgICB9CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckRhdGEnLEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpKQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eKtuaAgeS/ruaUueaIkOWKnycpOwogICAgfSwKICAgIC8vIOWIoOmZpOeUqOaIt+aTjeS9nAogICAgZGVsVXNlcihlKXsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIGlmKGUgPT0gdW5kZWZpbmVkKXtyZXR1cm59CiAgICAgIGZvcihsZXQgaXRlbSBvZiB0aGlzLnVzZXJEYXRhKXsKICAgICAgICBpZihpdGVtLnVzZXJOYW1lID09IGUudXNlck5hbWUpewogICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy51c2VyRGF0YS5pbmRleE9mKGl0ZW0pCiAgICAgICAgICB0aGlzLnVzZXJEYXRhLnNwbGljZShpbmRleCwxKQogICAgICAgIH0KICAgICAgfQogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJyxKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSkKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgIH0sCiAgICAvLyDmt7vliqDnlKjmiLcgPT0g5YWz6Zet5a+56K+d5qGG5pWw5o2u6YeN572u5pON5L2cCiAgICBjbG9zZURpYWxvZygpewogICAgICB0aGlzLiRyZWZzLmFkZFVzZXIucmVzZXRGaWVsZHMoKQogICAgfSwKICAgIHN1Ym1pdCgpewogICAgICB0aGlzLiRyZWZzLmFkZFVzZXIudmFsaWRhdGUoKHZhaWxkKT0+ewogICAgICAgIGlmKHZhaWxkID09PSB0cnVlKXsKICAgICAgICAgIHRoaXMuYWRkVXNlci5yb2xlID0gJ+aZrumAmuS8muWRmCcKICAgICAgICAgIHRoaXMuYWRkVXNlci51c2VyU3RhdHVzID0gdHJ1ZQogICAgICAgICAgdGhpcy51c2VyRGF0YS5wdXNoKE9iamVjdC5hc3NpZ24oe30sdGhpcy5hZGRVc2VyKSk7CiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJyxKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSkKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMuYWRkVXNlclN0YXR1cyA9IGZhbHNlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"user\">\n    <!-- 面包屑 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{path: '/home' }\" >主页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片内容 -->\n    <el-card>\n      <!-- 搜索栏 -->\n      <el-row :gutter=\"40\">\n        <el-col :span=\"12\">\n          <el-input placeholder=\"请输入搜索内容\" v-model=\"userData.userName\">\n            <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button type=\"primary\" @click=\"addUserStatus = true\">添加用户</el-button>\n        </el-col>\n      </el-row>\n      <!-- 表格内容 -->\n      <el-table :data=\"userData\" border stripe >\n        <el-table-column type=\"index\" label=\"序号\" width=\"60\">\n        </el-table-column>\n        <el-table-column prop=\"userName\" label=\"姓名\" width=\"140\">\n        </el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"180\">\n        </el-table-column>\n        <el-table-column prop=\"mobile\" label=\"电话\" width=\"140\">\n        </el-table-column>\n        <el-table-column prop=\"role\" label=\"角色\" width=\"120\">\n        </el-table-column>\n        <el-table-column  label=\"状态\" width=\"100\">\n          <!-- 作用域插槽，可以获取当前行的内容 == scope.row  -->\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.userStatus\" @change=\"userStatusChange(scope.row)\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column  label=\"操作\">\n          <!--作用域插槽 -->\n          <template slot-scope=\"scope\">\n            <el-tooltip effect=\"dark\" content=\"修改\" placement=\"top\" :enterable = false>\n              <el-button type=\"primary\" icon=\"el-icon-edit\"></el-button>\n            </el-tooltip>\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable = false>\n              <el-button type=\"warning\" icon=\"el-icon-share\"></el-button>\n            </el-tooltip>\n            <el-tooltip effect=\"dark\" content=\"删除\" placement=\"top\" :enterable = false >\n              <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"delUser(scope.row)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n     \n      </el-table>\n      <!-- 底部分页 -->\n      <el-pagination\n        layout=\"total,prev, pager, next\"\n        :total=\"userData.length\">\n      </el-pagination>\n      <!-- 添加用户表单 -->\n      <el-dialog title=\"添加用户\" :visible.sync=\"addUserStatus\" @close='closeDialog'>\n        <el-form :model=\"addUser\" label-position='right' label-width=\"80px\" :rules=\"addUserRules\" ref=\"addUser\">\n          <el-form-item label=\"用户名\" prop=\"userName\">\n            <el-input v-model=\"addUser.userName\" ></el-input>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\" >\n            <el-input v-model=\"addUser.email\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机\" prop=\"mobile\" >\n            <el-input v-model.number=\"addUser.mobile\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\">\n          <el-button @click=\"addUserStatus = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n\n  </div>\n</template>\n<script>\nexport default {\n  name:'user',\n  data(){\n    return {\n      userData:[\n        {userName:'admin',email:'766747781@qq.com',mobile:'13041041630',role:'超级管理员',userStatus:true},\n        {userName:'lily',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:false},\n        {userName:'张三三',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'李思思',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'王呜呜',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'白溜溜',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:false},\n        {userName:'胖乎乎',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'杨爸爸',email:'766747781@qq.com',mobile:'13041041630',role:'管理员',userStatus:true},\n        {userName:'东瞧瞧',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:true},\n        {userName:'哦样也',email:'766747781@qq.com',mobile:'13041041630',role:'普通会员',userStatus:false}\n      ],\n      addUser:{\n        userName:'',\n        email:'',\n        mobile:''\n      },\n      addUserStatus:false,\n      addUserRules:{\n        userName:[\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 2, max: 5, message: '长度在 2 到 5 个字符', trigger: 'blur' }\n        ],\n        email:[\n          { required: true, message: '请输入用户邮箱', trigger: 'blur' },\n          { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\n        ],\n        mobile:[\n          { required: true, message: '手机号码不能为空'},\n          { type: 'number', message: '手机号码必须为数字值'}\n        ]\n      }\n    }\n  },\n  mounted(){\n    // 进入页面之后初始化用户列表信息，并保存到localStorage中\n   this.getStorage()\n  },\n  methods:{\n    getStorage(){\n      let storage = window.localStorage;\n      if(storage.getItem('userData') == null){\n        storage.setItem('userData',JSON.stringify(this.userData));\n      }else{\n        this.userData = JSON.parse(storage.getItem('userData'))\n      }\n    },\n    // 用户状态修改\n    userStatusChange(e){\n      for(let item of this.userData){\n        if(item.userName == e.userName){\n          item.userStatus = e.userStatus\n        }\n      }\n      window.localStorage.setItem('userData',JSON.stringify(this.userData))\n      this.$message.success('状态修改成功');\n    },\n    // 删除用户操作\n    delUser(e){\n      console.log(e);\n      if(e == undefined){return}\n      for(let item of this.userData){\n        if(item.userName == e.userName){\n          let index = this.userData.indexOf(item)\n          this.userData.splice(index,1)\n        }\n      }\n      window.localStorage.setItem('userData',JSON.stringify(this.userData))\n      this.$message.success('删除成功');\n    },\n    // 添加用户 == 关闭对话框数据重置操作\n    closeDialog(){\n      this.$refs.addUser.resetFields()\n    },\n    submit(){\n      this.$refs.addUser.validate((vaild)=>{\n        if(vaild === true){\n          this.addUser.role = '普通会员'\n          this.addUser.userStatus = true\n          this.userData.push(Object.assign({},this.addUser));\n          window.localStorage.setItem('userData',JSON.stringify(this.userData))\n        }\n      })\n      this.addUserStatus = false\n    }\n  }\n}\n</script>\n<style scoped lang='scss'>\n .el-breadcrumb,.el-row{\n   margin-bottom: 20px;\n }\n .el-input{\n   width: 460px;\n }\n \n</style>"]}]}